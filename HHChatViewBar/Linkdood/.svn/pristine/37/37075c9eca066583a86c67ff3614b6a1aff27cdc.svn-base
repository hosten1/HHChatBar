//
//  LDRegisterModel+Extend.m
//  SDKClient
//
//  Created by 熊清 on 16/7/28.
//  Copyright © 2016年 VRV. All rights reserved.
//

#import "LDRegisterModel+Extend.h"

@implementation LDRegisterModel (Extend)

- (void)getVerificationCode:(void (^) (NSError *error,LDRegisterModel *callRegister))completion
{
    NSUInteger type = [objc_getAssociatedObject(self, "getCodeType") unsignedIntegerValue];
    if (type == get_code_register) {
        [SDKClient sendRequestToSDK:imsdk::logic_cmd_reg1 postData:self completion:nil];
    }else{
        [SDKClient sendRequestToSDK:imsdk::logic_cmd_resetPw1 postData:self completion:nil];
    }
}

- (void)quickRegister:(NSString*)account
             nickName:(NSString*)nickName
          accountType:(user_type)type
         withPassword:(NSString*)password
           completion:(void (^) (NSError *error))completion
{
    self.account = account;
    self.nickName = nickName;
    self.usertype = type;
    self.password = password;
    objc_setAssociatedObject(self, "quickRegister", completion, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
    [SDKClient sendRequestToSDK:imsdk::logic_cmd_quickRegister postData:self completion:nil];
}

@end
